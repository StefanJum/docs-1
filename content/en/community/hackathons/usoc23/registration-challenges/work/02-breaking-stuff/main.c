#include <stdio.h>
#include <stdlib.h>

/*char *key = "\x26\x3b\x06\x33\x24\x28\x2b\x04\x00\x00\x04\x3a\x1a\x04\x12\x0b\x0c\x2f\x36\x1a\x2b\x1d\x0d\x1f\x15\x2d\x36\x03\x1b\x01\x1d\x15\x22;*/
/*char *key = "\x2c\x3c\x1a\x1c\x0c\x28\x33\x1b\x37\x07\x11\x13\x16\x02\x3e\x05\x0c\x31\x0d\x2c\x36\x1a\x1c\x19\x10\x2d\x28\x1e\x04\x05\x2b\x0b\x18";*/
char *key = "\x32\x3c\x00\x27\x24\x2d\x30\x18\x03\x00\x1a\x02\x2c\x00\x00\x10\x16\x28\x06\x01\x3b\x09\x0a\x19\x01\x2d\x33\x18\x07\x02\x1d\x0b\x1a";

int main(int argc, char *argv[])
{
	char pass[30];

	printf("Give me the password: ");
	fgets(pass, 29, stdin);

	if (strncmp(pass, "good_looking_password", 21)) {
		printf("Try again.\n");
	} else {
		char plain[50];

		plain[33] = '\0';
		for (int i = 0; i < 33; i ++) {
			plain[i] = key[i] ^ pass[i % 21];
		}

		printf("There you go: %s\n", plain);
	}

	return 0;
}
